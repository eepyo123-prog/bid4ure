<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bid4U - í”„ë¦¬ë¯¸ì—„ ë“±ê¸‰ë³„ ê³„ì‚°ê¸°</title>
    <style>
        /* [1. í…Œë§ˆ ë³€ìˆ˜] */
        :root {
            --main-deep-blue: #0a1f4d;
            --main-royal-blue: #1e3a8a;
            --point-orange: #ff8c00;
            --bg-grey: #f4f6f9;
            --border-light: #e1e5eb;
        }

        body { font-family: 'Pretendard', sans-serif; margin: 0; background-color: var(--bg-grey); color: #333; line-height: 1.6; word-break: keep-all; }
        * { box-sizing: border-box; }

        .calc-container { max-width: 900px; margin: 20px auto; padding: 15px; }
        .page-title { text-align: center; color: var(--main-deep-blue); font-size: 1.5rem; font-weight: 800; margin-bottom: 20px; }

        /* [2. ì¹´ë“œ ë ˆì´ì•„ì›ƒ] */
        .calc-card { background: #fff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); overflow: hidden; margin-bottom: 20px; border: 1px solid #eee; }
        .card-header { background: var(--main-deep-blue); color: #fff; padding: 15px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; font-size: 14px; }
        .card-body { padding: 20px; }

        /* [3. í¼ ìŠ¤íƒ€ì¼] */
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; font-weight: 700; margin-bottom: 8px; color: var(--main-deep-blue); font-size: 14px; }
        .form-input { width: 100%; padding: 12px; border: 1px solid var(--border-light); border-radius: 8px; font-size: 16px; outline: none; -webkit-appearance: none; }
        .form-input:focus { border-color: var(--main-royal-blue); }

        /* [4. ì˜µì…˜ ê·¸ë¦¬ë“œ - ëª¨ë°”ì¼ ëŒ€ì‘] */
        .option-title { font-size: 13px; font-weight: bold; margin: 20px 0 10px; color: #555; }
        .option-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); 
            gap: 8px; 
            margin-bottom: 20px; 
        }
        .option-item {
            border: 1px solid var(--border-light); border-radius: 8px; padding: 10px 5px; text-align: center; 
            background: #fff; cursor: pointer; font-size: 12px; transition: 0.2s;
        }
        .option-item span { display: block; font-size: 10px; color: #999; margin-top: 2px; }
        .option-item.active { border-color: var(--point-orange); background: #fff8f0; color: var(--point-orange); font-weight: bold; }

        .advanced-options { background: #f8faff; padding: 15px; border-radius: 10px; border: 1px solid #eef2ff; margin-bottom: 20px; }
        .btn-calc { width: 100%; padding: 16px; background: var(--point-orange); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; -webkit-tap-highlight-color: transparent; }

        /* [5. ê²°ê³¼ í™”ë©´] */
        #result-area { display: none; margin-top: 25px; }
        .result-card { border: 2px solid var(--main-deep-blue); }
        .price-list { list-style: none; padding: 0; border-top: 1px dashed #eee; padding-top: 15px; margin-bottom: 15px; }
        .price-list li { display: flex; justify-content: space-between; padding: 8px 0; font-size: 13px; color: #555; }
        .price-list li.bold { font-weight: bold; color: var(--main-deep-blue); background: #f8faff; padding: 10px; border-radius: 6px; margin-top: 5px; }

        /* [6. ê²°ê³¼ í…Œì´ë¸” ëª¨ë°”ì¼ ìŠ¤í¬ë¡¤] */
        .table-wrapper { overflow-x: auto; -webkit-overflow-scrolling: touch; margin-top: 15px; border-radius: 8px; border: 1px solid #eee; }
        .grade-table { width: 100%; border-collapse: collapse; min-width: 300px; background: #fff; }
        .grade-table th { background: #f1f3f8; color: var(--main-deep-blue); padding: 10px; font-size: 12px; text-align: center; }
        .grade-table td { padding: 10px; text-align: center; border-bottom: 1px solid #eee; font-size: 12px; }
        .grade-table .best-price { color: var(--point-orange); font-weight: bold; }

        .disclaimer { font-size: 11px; color: #999; text-align: center; margin-top: 15px; padding: 0 10px; }

        /* [7. ë¯¸ë””ì–´ ì¿¼ë¦¬ - íƒœë¸”ë¦¿ ì´ìƒ] */
        @media (min-width: 768px) {
            .calc-container { padding: 30px; }
            .page-title { font-size: 28px; }
            .option-grid { grid-template-columns: repeat(4, 1fr); }
            .card-header { font-size: 16px; padding: 15px 20px; }
            .card-body { padding: 30px; }
            .price-list li { font-size: 14px; }
            .grade-table th, .grade-table td { font-size: 14px; padding: 12px; }
        }
    </style>
</head>
<body>

<div class="calc-container">
    <h1 class="page-title">Bid4U íšŒì› ë“±ê¸‰ë³„ ê³„ì‚°ê¸°</h1>

    <div class="calc-card">
        <div class="card-header">
            <span>ì£¼ë¬¸ ì •ë³´ ì…ë ¥</span>
            <span style="font-weight:normal;">í™˜ìœ¨: 9.94ì› ì ìš©</span>
        </div>
        <div class="card-body">
            <div class="form-group">
                <label class="form-label">ìƒí’ˆ ë‚™ì°°/êµ¬ë§¤ê°€ (ï¿¥)</label>
                <input type="number" id="prodPrice" class="form-input" placeholder="ì—”í™” ê¸ˆì•¡ ì…ë ¥">
            </div>

            <div class="form-group">
                <label class="form-label">ì˜ˆìƒ ë¬´ê²Œ (kg)</label>
                <input type="number" id="prodWeight" class="form-input" placeholder="ì˜ˆ: 1.5" step="0.1">
            </div>

            <div class="advanced-options">
                <div class="option-title">1. ê²€ìˆ˜ ì„œë¹„ìŠ¤ ì„ íƒ</div>
                <div class="option-grid" id="inspectionGrid">
                    <div class="option-item active" data-fee="0">ë…¸ê²€ìˆ˜<span>0ï¿¥</span></div>
                    <div class="option-item" data-fee="300">ì‚¬ì§„ì´¬ì˜<span>300ï¿¥</span></div>
                    <div class="option-item" data-fee="800">ìƒì„¸ê²€ìˆ˜<span>800ï¿¥</span></div>
                </div>

                <div class="option-title">2. í•©ë°°ì†¡ ë°•ìŠ¤ ê·œê²© ì„ íƒ</div>
                <div class="option-grid" id="sizeGrid">
                    <div class="option-item active" data-fee="0">ë‹¨í’ˆë°°ì†¡<span>0ï¿¥</span></div>
                    <div class="option-item" data-fee="200">50ë¯¸ë§Œ<span>200ï¿¥</span></div>
                    <div class="option-item" data-fee="400">60ì‚¬ì´ì¦ˆ<span>400ï¿¥</span></div>
                    <div class="option-item" data-fee="600">80ì‚¬ì´ì¦ˆ<span>600ï¿¥</span></div>
                    <div class="option-item" data-fee="800">100ì‚¬ì´ì¦ˆ<span>800ï¿¥</span></div>
                    <div class="option-item" data-fee="1000">120ì‚¬ì´ì¦ˆ<span>1000ï¿¥</span></div>
                    <div class="option-item" data-fee="1200">140ì‚¬ì´ì¦ˆ<span>1200ï¿¥</span></div>
                    <div class="option-item" data-fee="1500">150ì´ìƒ<span>1500ï¿¥</span></div>
                </div>
            </div>

            <button class="btn-calc" onclick="calculate()">ì „ ë“±ê¸‰ ë¹„ìš© ë¹„êµí•˜ê¸°</button>
        </div>
    </div>

    <div id="result-area">
        <div class="calc-card result-card">
            <div class="card-header" style="background:var(--main-royal-blue)">ìµœì¢… ê²¬ì  ê²°ê³¼</div>
            <div class="card-body">
                <ul class="price-list">
                    <li><span>ìƒí’ˆ ì›í™” í™˜ì‚°ê°€</span><span id="wonPrice">0 ì›</span></li>
                    <li class="bold"><span>ìµœì¢… ëŒ€í–‰ê°€ê²© (ìˆ˜ìˆ˜ë£Œ í¬í•¨)</span><span id="proxyPrice">0 ì›</span></li>
                </ul>

                <div class="option-title" style="text-align:center;">ğŸ† ë“±ê¸‰ë³„ ì´ í•©ê³„ (ë°°ì†¡ë¹„ í¬í•¨)</div>
                <div class="table-wrapper">
                    <table class="grade-table">
                        <thead>
                            <tr>
                                <th>íšŒì› ë“±ê¸‰</th>
                                <th>ë°°ì†¡ í• ì¸</th>
                                <th>ìµœì¢… í•©ê³„</th>
                            </tr>
                        </thead>
                        <tbody id="gradeResultBody"></tbody>
                    </table>
                </div>
                
                <div class="disclaimer">
                    â€» ìµœì¢… í•©ê³„ = ìƒí’ˆê°€ + ëŒ€í–‰ê°€ê²© + í• ì¸ ë°°ì†¡ë¹„<br>
                    â€» ì˜¤ì‚¬ì¹´ ì§ì˜ ë¬¼ë¥˜ì„¼í„° ìš´ì˜ì„ í†µí•´ ìµœì ì˜ ê°€ê²©ì„ ì œê³µí•©ë‹ˆë‹¤.
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const currentInspect = { fee: 0 };
    const currentSize = { fee: 0 };
    
    // ë“±ê¸‰ë³„ ë°ì´í„° (ìˆ˜ì • ê°€ëŠ¥)
    const grades = [
        { id: "BRONZE", discount: 0 },
        { id: "SILVER", discount: 500 },
        { id: "GOLD", discount: 1000 },
        { id: "PLATINUM", discount: 1500 },
        { id: "DIAMOND", discount: 2000 },
        { id: "B2B", discount: 3000 }
    ];

    function setupGrid(gridId, storageObj) {
        const items = document.querySelectorAll(`#${gridId} .option-item`);
        items.forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll(`#${gridId} .option-item`).forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                storageObj.fee = parseInt(item.getAttribute('data-fee'));
            });
        });
    }

    setupGrid('inspectionGrid', currentInspect);
    setupGrid('sizeGrid', currentSize);

    function calculate() {
        const price = parseFloat(document.getElementById('prodPrice').value) || 0;
        const weight = parseFloat(document.getElementById('prodWeight').value) || 0;
        const rate = 9.94; // ê³ ì • í™˜ìœ¨ ì˜ˆì‹œ

        if (price <= 0) { alert("ìƒí’ˆ ê°€ê²©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }

        const wonPrice = Math.round(price * rate);
        // ê¸°ë³¸ 200ì—” ìˆ˜ìˆ˜ë£Œ + ê²€ìˆ˜ë¹„ + ë°•ìŠ¤ë¹„
        const proxyPriceWon = Math.round((200 + currentInspect.fee + currentSize.fee) * rate); 

        // ë°°ì†¡ë¹„ ë¡œì§ (ë‹¨ìˆœ ì‹œë®¬ë ˆì´ì…˜)
        let baseShipFee = 0;
        if (weight > 0) {
            baseShipFee = 12000 + (Math.ceil(weight * 2) / 2 - 0.5) * 1600;
        }

        document.getElementById('result-area').style.display = 'block';
        document.getElementById('wonPrice').innerText = wonPrice.toLocaleString() + " ì›";
        document.getElementById('proxyPrice').innerText = proxyPriceWon.toLocaleString() + " ì›";

        const tbody = document.getElementById('gradeResultBody');
        tbody.innerHTML = "";

        grades.forEach(g => {
            const finalShipFee = Math.max(0, baseShipFee - g.discount);
            const total = wonPrice + proxyPriceWon + finalShipFee;
            
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td><strong>${g.id}</strong></td>
                <td>${g.discount > 0 ? g.discount.toLocaleString() + 'ì›' : '-'}</td>
                <td class="${g.id === 'B2B' ? 'best-price' : ''}">${total.toLocaleString()} ì›</td>
            `;
            tbody.appendChild(tr);
        });

        // ê²°ê³¼ ì˜ì—­ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤
        document.getElementById('result-area').scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>